import{d as I,b as M,g as o,p as z,c as u,w as a,j as c,l as y,h as i,m as r,t as B,y as _,s as d}from"./index-6306362f.js";import{_ as V}from"./_plugin-vue_export-helper-c27b6911.js";const q={class:"services-page"},R=I({__name:"Services",setup(T){const n=M(),g=[{title:"服务名称",dataIndex:"display_name",key:"display_name"},{title:"状态",dataIndex:"status",key:"status"},{title:"运行时长",dataIndex:"uptime",key:"uptime"},{title:"是否必需",dataIndex:"required",key:"required",customRender:({text:t})=>t?"是":"否"},{title:"操作",key:"actions"}],k=t=>({running:"green",stopped:"default",error:"red",starting:"blue",stopping:"orange"})[t]||"default",f=t=>({running:"运行中",stopped:"已停止",error:"错误",starting:"启动中",stopping:"停止中"})[t]||t,S=async t=>{await n.startService(t)&&d.success(`${t}启动成功`)},v=async t=>{await n.stopService(t)&&d.success(`${t}停止成功`)},x=async t=>{await n.restartService(t)&&d.success(`${t}重启成功`)};return(t,e)=>{const C=c("a-tag"),l=c("a-button"),b=c("a-space"),w=c("a-table"),$=c("a-card");return o(),z("div",q,[u($,{title:"服务管理"},{default:a(()=>[u(w,{columns:g,"data-source":y(n).services,loading:y(n).loading,"row-key":"name"},{bodyCell:a(({column:p,record:s})=>[p.key==="status"?(o(),i(C,{key:0,color:k(s.status)},{default:a(()=>[r(B(f(s.status)),1)]),_:2},1032,["color"])):_("",!0),p.key==="actions"?(o(),i(b,{key:1},{default:a(()=>[s.status==="stopped"?(o(),i(l,{key:0,type:"primary",size:"small",onClick:m=>S(s.name)},{default:a(()=>e[0]||(e[0]=[r(" 启动 ",-1)])),_:2,__:[0]},1032,["onClick"])):s.status==="running"?(o(),i(l,{key:1,size:"small",onClick:m=>v(s.name)},{default:a(()=>e[1]||(e[1]=[r(" 停止 ",-1)])),_:2,__:[1]},1032,["onClick"])):_("",!0),u(l,{size:"small",onClick:m=>x(s.name),disabled:s.status!=="running"},{default:a(()=>e[2]||(e[2]=[r(" 重启 ",-1)])),_:2,__:[2]},1032,["onClick","disabled"])]),_:2},1024)):_("",!0)]),_:1},8,["data-source","loading"])]),_:1})])}}});const D=V(R,[["__scopeId","data-v-985c1858"]]);export{D as default};
