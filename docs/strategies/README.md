# ARBIG ç­–ç•¥æ–‡æ¡£

## ğŸ“‹ ç­–ç•¥æ¦‚è¿°

æœ¬ç›®å½•åŒ…å«ARBIGç³»ç»Ÿæ”¯æŒçš„å„ç§é‡åŒ–äº¤æ˜“ç­–ç•¥çš„è¯¦ç»†æ–‡æ¡£ï¼ŒåŒ…æ‹¬ç­–ç•¥åŸç†ã€å‚æ•°é…ç½®ã€ä½¿ç”¨æŒ‡å—ç­‰ã€‚

## ğŸ“š ç­–ç•¥æ–‡æ¡£åˆ—è¡¨

### ğŸ”„ å¥—åˆ©ç­–ç•¥

#### 1. [åŸºå·®å¥—åˆ©ç­–ç•¥](SPREAD_THRESHOLD_GUIDE.md)
- **ç­–ç•¥ç±»å‹**: è·¨å¸‚åœºå¥—åˆ©
- **é€‚ç”¨å¸‚åœº**: é¦™æ¸¯ç¦»å²¸äººæ°‘å¸é»„é‡‘ vs ä¸Šæµ·é»„é‡‘äº¤æ˜“æ‰€
- **æ ¸å¿ƒåŸç†**: åˆ©ç”¨ä¸¤åœ°é»„é‡‘ä»·æ ¼å·®å¼‚è¿›è¡Œå¥—åˆ©
- **é£é™©ç­‰çº§**: ä¸­ç­‰
- **é¢„æœŸæ”¶ç›Š**: å¹´åŒ–8-15%

**ä¸»è¦å†…å®¹**:
- é˜ˆå€¼è®¾ç½®åŸç†å’Œè®¡ç®—æ–¹æ³•
- ä¿å®ˆ/å¹³è¡¡/æ¿€è¿›ä¸‰ç§ç­–ç•¥é…ç½®
- åŠ¨æ€é˜ˆå€¼è°ƒæ•´æœºåˆ¶
- å®é™…åº”ç”¨åœºæ™¯å’Œæ¡ˆä¾‹
- é£é™©æ§åˆ¶å’Œä¼˜åŒ–å»ºè®®

### ğŸ“ˆ è¶‹åŠ¿ç­–ç•¥

#### 2. ä¸Šæµ·å¸‚åœºé‡åŒ–ç­–ç•¥ (å¼€å‘ä¸­)
- **ç­–ç•¥ç±»å‹**: è¶‹åŠ¿è·Ÿè¸ª
- **é€‚ç”¨å¸‚åœº**: ä¸ŠæœŸæ‰€é»„é‡‘æœŸè´§
- **æ ¸å¿ƒåŸç†**: åŸºäºæŠ€æœ¯æŒ‡æ ‡çš„è¶‹åŠ¿è¯†åˆ«
- **é£é™©ç­‰çº§**: ä¸­é«˜
- **é¢„æœŸæ”¶ç›Š**: å¹´åŒ–12-20%

### ğŸ“Š å‡å€¼å›å½’ç­–ç•¥

#### 3. ä»·æ ¼å›å½’ç­–ç•¥ (è§„åˆ’ä¸­)
- **ç­–ç•¥ç±»å‹**: å‡å€¼å›å½’
- **é€‚ç”¨å¸‚åœº**: å¤šå¸‚åœº
- **æ ¸å¿ƒåŸç†**: ä»·æ ¼åç¦»å‡å€¼åçš„å›å½’ç‰¹æ€§
- **é£é™©ç­‰çº§**: ä¸­ç­‰
- **é¢„æœŸæ”¶ç›Š**: å¹´åŒ–6-12%

## ğŸ¯ ç­–ç•¥é€‰æ‹©æŒ‡å—

### é£é™©åå¥½åˆ†ç±»

**ä¿å®ˆå‹æŠ•èµ„è€…**:
- âœ… åŸºå·®å¥—åˆ©ç­–ç•¥ (ä¿å®ˆé…ç½®)
- ğŸ“Š å»ºè®®é…ç½®: ä½æ æ†ã€ä¸¥æ ¼æ­¢æŸ
- ğŸ¯ é¢„æœŸæ”¶ç›Š: 8-12%

**å¹³è¡¡å‹æŠ•èµ„è€…**:
- âœ… åŸºå·®å¥—åˆ©ç­–ç•¥ (å¹³è¡¡é…ç½®)
- âœ… è¶‹åŠ¿è·Ÿè¸ªç­–ç•¥ (ä¸­ç­‰å‚æ•°)
- ğŸ“Š å»ºè®®é…ç½®: é€‚ä¸­æ æ†ã€åŠ¨æ€è°ƒæ•´
- ğŸ¯ é¢„æœŸæ”¶ç›Š: 12-18%

**æ¿€è¿›å‹æŠ•èµ„è€…**:
- âœ… åŸºå·®å¥—åˆ©ç­–ç•¥ (æ¿€è¿›é…ç½®)
- âœ… è¶‹åŠ¿è·Ÿè¸ªç­–ç•¥ (æ•æ„Ÿå‚æ•°)
- âœ… å¤šç­–ç•¥ç»„åˆ
- ğŸ“Š å»ºè®®é…ç½®: é«˜æ æ†ã€å¿«é€Ÿå“åº”
- ğŸ¯ é¢„æœŸæ”¶ç›Š: 18-25%

## ğŸ”§ ç­–ç•¥é…ç½®

### é…ç½®æ–‡ä»¶ç»“æ„

```yaml
# config.yaml
strategies:
  # åŸºå·®å¥—åˆ©ç­–ç•¥
  - name: "spread_arbitrage"
    type: "spread_arbitrage"
    enabled: true
    config:
      # é˜ˆå€¼è®¾ç½®
      entry_threshold: 0.8      # å¼€ä»“é˜ˆå€¼
      exit_threshold: 0.2       # å¹³ä»“é˜ˆå€¼
      stop_loss_threshold: 1.5  # æ­¢æŸé˜ˆå€¼
      
      # äº¤æ˜“å‚æ•°
      max_position: 1000        # æœ€å¤§æŒä»“
      shfe_symbol: "AU2508"     # ä¸ŠæœŸæ‰€åˆçº¦
      mt5_symbol: "XAUUSD"      # MT5åˆçº¦
      
      # é£æ§å‚æ•°
      max_hold_time: 3600       # æœ€å¤§æŒä»“æ—¶é—´(ç§’)
      transaction_cost: 0.1     # äº¤æ˜“æˆæœ¬
      min_profit: 0.3           # æœ€å°åˆ©æ¶¦è¦æ±‚

  # è¶‹åŠ¿è·Ÿè¸ªç­–ç•¥
  - name: "shfe_trend"
    type: "shfe_quant"
    enabled: false
    config:
      strategy_type: "trend"
      symbol: "AU2508"
      max_position: 500
      ma_short: 5
      ma_long: 20
      rsi_period: 14
      rsi_overbought: 70
      rsi_oversold: 30
```

### ç­–ç•¥åˆ‡æ¢

```bash
# å¯åŠ¨ç‰¹å®šç­–ç•¥
python main.py --strategy spread_arbitrage

# æŸ¥çœ‹å¯ç”¨ç­–ç•¥
python main.py --list

# äº¤äº’å¼é€‰æ‹©ç­–ç•¥
python main.py
```

## ğŸ“Š ç­–ç•¥ç›‘æ§

### Webç®¡ç†ç•Œé¢

é€šè¿‡ `http://localhost:8000` è®¿é—®Webç®¡ç†ç³»ç»Ÿï¼š

1. **ğŸ“ˆ ä¿¡å·ç›‘æ§**
   - å®æ—¶æŸ¥çœ‹ç­–ç•¥ä¿¡å·
   - ä¿¡å·è§¦å‘åŸå› åˆ†æ
   - ä¿¡å·æ‰§è¡ŒçŠ¶æ€è·Ÿè¸ª

2. **ğŸ“‹ è®¢å•ç®¡ç†**
   - ç­–ç•¥è®¢å•çŠ¶æ€ç›‘æ§
   - è®¢å•ä¸ä¿¡å·å…³è”æŸ¥çœ‹
   - æ‰‹åŠ¨å¹²é¢„å’Œè°ƒæ•´

3. **ğŸ›¡ï¸ é£æ§ç®¡ç†**
   - ç­–ç•¥çº§åˆ«çš„æš‚åœ/æ¢å¤
   - ç´§æ€¥å¹³ä»“åŠŸèƒ½
   - é£é™©æŒ‡æ ‡ç›‘æ§

### ç­–ç•¥è¡¨ç°åˆ†æ

```python
# è·å–ç­–ç•¥ä¿¡å·åˆ†æ
analysis = trading_monitor.get_signal_analysis()

print(f"æ€»ä¿¡å·æ•°: {analysis['total_signals']}")
print(f"æ‰§è¡Œç‡: {analysis['execution_rate']:.1%}")
print(f"å¹³å‡ä¿¡å·å¼ºåº¦: {analysis['avg_strength']:.2f}")

# æŒ‰ç­–ç•¥åˆ†ç»„ç»Ÿè®¡
for strategy, count in analysis['signal_by_strategy'].items():
    print(f"{strategy}: {count} ä¸ªä¿¡å·")
```

## ğŸ§ª ç­–ç•¥æµ‹è¯•

### å›æµ‹æµ‹è¯•

```bash
# åŸºå·®å¥—åˆ©ç­–ç•¥å›æµ‹
python tests/backtest_spread_arbitrage.py

# æŒ‡å®šæ—¶é—´èŒƒå›´å›æµ‹
python tests/backtest_spread_arbitrage.py --start 2024-01-01 --end 2024-12-31
```

### å®ç›˜æµ‹è¯•

```bash
# ä¿¡å·ç›‘æ§æµ‹è¯•
python test_signal_monitoring.py

# ç­–ç•¥æ‰§è¡Œæµ‹è¯•
python tests/test_strategy_execution.py
```

## ğŸ“ˆ ç­–ç•¥ä¼˜åŒ–

### å‚æ•°ä¼˜åŒ–æµç¨‹

1. **å†å²æ•°æ®åˆ†æ**
   - æ”¶é›†è¶³å¤Ÿçš„å†å²æ•°æ®
   - åˆ†æå¸‚åœºç‰¹å¾å’Œè§„å¾‹
   - è¯†åˆ«æœ€ä½³å‚æ•°èŒƒå›´

2. **å›æµ‹éªŒè¯**
   - ä½¿ç”¨å†å²æ•°æ®å›æµ‹
   - è®¡ç®—å…³é”®æŒ‡æ ‡ (æ”¶ç›Šç‡ã€å¤æ™®æ¯”ç‡ã€æœ€å¤§å›æ’¤)
   - é€‰æ‹©æœ€ä¼˜å‚æ•°ç»„åˆ

3. **å®ç›˜éªŒè¯**
   - å°èµ„é‡‘å®ç›˜æµ‹è¯•
   - ç›‘æ§å®é™…è¡¨ç°
   - æ ¹æ®ç»“æœè°ƒæ•´å‚æ•°

4. **æŒç»­ä¼˜åŒ–**
   - å®šæœŸè¯„ä¼°ç­–ç•¥è¡¨ç°
   - æ ¹æ®å¸‚åœºå˜åŒ–è°ƒæ•´
   - å¼•å…¥æ–°çš„ä¼˜åŒ–æŠ€æœ¯

### ä¼˜åŒ–å·¥å…·

```python
# å‚æ•°ä¼˜åŒ–ç¤ºä¾‹
from strategies.optimizer import ParameterOptimizer

optimizer = ParameterOptimizer('spread_arbitrage')
best_params = optimizer.optimize(
    param_ranges={
        'entry_threshold': (0.5, 1.2),
        'exit_threshold': (0.1, 0.5),
        'stop_loss_threshold': (1.0, 2.0)
    },
    objective='sharpe_ratio',
    data_period='2024-01-01:2024-12-31'
)
```

## ğŸ” ç­–ç•¥å¼€å‘

### å¼€å‘æ–°ç­–ç•¥

1. **ç­–ç•¥è®¾è®¡**
   - æ˜ç¡®ç­–ç•¥é€»è¾‘å’ŒåŸç†
   - å®šä¹‰ä¿¡å·ç”Ÿæˆè§„åˆ™
   - è®¾è®¡é£æ§æœºåˆ¶

2. **ä»£ç å®ç°**
   - ç»§æ‰¿ç­–ç•¥åŸºç±»
   - å®ç°æ ¸å¿ƒé€»è¾‘æ–¹æ³•
   - æ·»åŠ å‚æ•°é…ç½®

3. **æµ‹è¯•éªŒè¯**
   - å•å…ƒæµ‹è¯•
   - å›æµ‹éªŒè¯
   - å®ç›˜æµ‹è¯•

4. **æ–‡æ¡£ç¼–å†™**
   - ç­–ç•¥è¯´æ˜æ–‡æ¡£
   - å‚æ•°é…ç½®æŒ‡å—
   - ä½¿ç”¨ç¤ºä¾‹

### ç­–ç•¥æ¨¡æ¿

```python
# strategies/custom_strategy.py
from core.strategy_base import StrategyBase

class CustomStrategy(StrategyBase):
    def __init__(self, config):
        super().__init__(config)
        self.param1 = config.get('param1', default_value)
        
    def on_tick(self, tick):
        # å¤„ç†tickæ•°æ®
        signal = self.generate_signal(tick)
        if signal:
            self.send_order(signal)
    
    def generate_signal(self, tick):
        # ä¿¡å·ç”Ÿæˆé€»è¾‘
        pass
    
    def on_order(self, order):
        # è®¢å•çŠ¶æ€å¤„ç†
        pass
```

## ğŸ“ æ”¯æŒå’Œåé¦ˆ

- **æ–‡æ¡£é—®é¢˜**: è¯·åœ¨é¡¹ç›®Issuesä¸­åé¦ˆ
- **ç­–ç•¥å»ºè®®**: æ¬¢è¿æäº¤ç­–ç•¥æ”¹è¿›å»ºè®®
- **æŠ€æœ¯æ”¯æŒ**: æŸ¥çœ‹ä¸»æ–‡æ¡£æˆ–è”ç³»å¼€å‘å›¢é˜Ÿ

---

**æ³¨æ„**: æ‰€æœ‰ç­–ç•¥éƒ½åŒ…å«å¸‚åœºé£é™©ï¼Œè¯·æ ¹æ®è‡ªèº«é£é™©æ‰¿å—èƒ½åŠ›é€‰æ‹©åˆé€‚çš„ç­–ç•¥é…ç½®ã€‚
